(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/no-image.b6c1e99a.png"},23:function(e,t,a){e.exports=a.p+"static/media/vs.9bf191e9.png"},24:function(e,t,a){e.exports=a.p+"static/media/pop2.73692655.png"},27:function(e,t,a){e.exports=a(46)},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(21),c=a.n(i),s=(a(32),a(6)),r=a(7),l=a(9),m=a(8),u=a(10),v=a(13),d=a(11),h=a(2),f=a(15),p=a.n(f),g="api_key=0da4cec8cd7c7f9e6892097255ca707c",b=(a(34),a(22)),k=a.n(b),O=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=null===this.props.movie.poster_path?k.a:"https://image.tmdb.org/t/p/w300".concat(this.props.movie.poster_path);return o.a.createElement("button",{className:"btn btn-outline-danger my-card",onClick:function(){return e.props.onClick(e.props.movie.id)}},o.a.createElement("div",{className:"title"},o.a.createElement("h5",null,this.props.movie.title)),o.a.createElement("div",null,o.a.createElement("img",{className:"img-fluid rounded",src:"".concat(t),alt:"".concat(this.props.movie.title)})))}}]),t}(o.a.Component),y=p()().format("YYYY-MM-DD"),E=p()().add(7,"days").format("YYYY-MM-DD"),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={movies:[]},a.onClickMovie=a.onClickMovie.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="http://api.themoviedb.org/3/discover/movie?primary_release_date.gte=".concat(y,"&primary_release_date.lte=").concat(E,"&").concat(g);fetch(t).then(function(e){return e.json()}).then(function(t){console.log("data",t),e.setState({movies:t.results})})}},{key:"onClickMovie",value:function(e){console.log("onClick Discover moviesId",e),this.saveToLocalStorage(e)}},{key:"saveToLocalStorage",value:function(e){var t=localStorage.getItem("myList"),a=[];null!==t&&(a=JSON.parse(t)),!1===a.includes(e)&&a.push(e),localStorage.setItem("myList",JSON.stringify(a))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},this.state.movies.map(function(t,a){return o.a.createElement("div",{key:t.id,className:"col-2"},o.a.createElement(O,{movie:t,onClick:e.onClickMovie}))})))}}]),t}(o.a.Component),N=a(23),C=a.n(N),M=(a(35),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={movies:[],currentMovie:0},a.onClickMovie=a.onClickMovie.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&".concat(g);fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({movies:t.results})})}},{key:"onClickMovie",value:function(e){console.log("onClickMovie moviesId",e);var t=this.state.currentMovie+2;this.setState({currentMovie:t}),this.saveToLocalStorage(e)}},{key:"saveToLocalStorage",value:function(e){var t=localStorage.getItem("myList"),a=[];null!==t&&(a=JSON.parse(t)),!1===a.includes(e)&&a.push(e),localStorage.setItem("myList",JSON.stringify(a))}},{key:"render",value:function(){var e=this,t=this.state.movies.slice(this.state.currentMovie,this.state.currentMovie+2);return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("img",{src:"".concat(C.a),className:"img-vs",alt:"vs"}),t.map(function(t,a){return o.a.createElement("div",{key:t.id,className:"col-5 offset-1"},o.a.createElement(O,{movie:t,onClick:e.onClickMovie}))})))}}]),t}(o.a.Component)),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={moviesList:[],listOfIds:a.getFromLocalStorage()},a.onClickCard=a.onClickCard.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getFromLocalStorage();Promise.all(this.state.listOfIds.map(function(e){return function(e){return fetch("http://api.themoviedb.org/3/movie/".concat(e,"?").concat(g)).then(function(e){return e.json()}).then(function(e){return e})}(e)})).then(function(t){t.forEach(function(a){e.setState({moviesList:t})})})}},{key:"getFromLocalStorage",value:function(){var e=localStorage.getItem("myList");return e=JSON.parse(e),console.log(">> getFromlocalStorage listOfIds",e),e}},{key:"onClickCard",value:function(e){console.log("movieId onClick MyList",e);var t=this.state.listOfIds.filter(function(t){return t!==e});this.setState({listOfIds:t});var a=this.state.moviesList.filter(function(t){return t.id!==e});this.setState({moviesList:a}),localStorage.setItem("myList",JSON.stringify(this.state.listOfIds)),console.log(localStorage)}},{key:"render",value:function(){var e=this;return console.log("moviesList in MyListrender",this.state.moviesList),console.log("listOfIds in MyListrender",this.state.listOfIds),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},this.state.moviesList.map(function(t,a){return o.a.createElement("div",{key:t.id,className:"col-3"},o.a.createElement(O,{movie:t,onClick:e.onClickCard}))})))}}]),t}(o.a.Component),L=(a(36),a(37),a(24)),I=a.n(L),w=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(v.a,{basename:"/movies"},o.a.createElement("div",{className:"global-heigh"},o.a.createElement("h1",{className:"logo-mooviz"},"Mooviz"),o.a.createElement("div",{className:"colored"}),o.a.createElement("nav",null,o.a.createElement("ul",{className:"nav justify-content-center"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(v.b,{className:"nav-link active",to:"/"},"Discover")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(v.b,{className:"nav-link active",to:"/popular/"},"Movie Battle")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(v.b,{className:"nav-link active",to:"/my-list"},"My list ",o.a.createElement("i",{className:"far fa-heart"}))))),o.a.createElement(d.a,{path:"/",exact:!0,component:j}),o.a.createElement(d.a,{path:"/popular/",component:M}),o.a.createElement(d.a,{path:"/my-list/",component:S})),o.a.createElement("img",{src:"".concat(I.a),className:"img-float2",alt:"pop"}),o.a.createElement("div",{className:"colored-bottom"}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.00e8ed45.chunk.js.map